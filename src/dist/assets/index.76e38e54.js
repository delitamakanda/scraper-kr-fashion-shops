var N=Object.defineProperty,y=Object.defineProperties;var w=Object.getOwnPropertyDescriptors;var x=Object.getOwnPropertySymbols;var S=Object.prototype.hasOwnProperty,_=Object.prototype.propertyIsEnumerable;var d=(s,e,r)=>e in s?N(s,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):s[e]=r,h=(s,e)=>{for(var r in e||(e={}))S.call(e,r)&&d(s,r,e[r]);if(x)for(var r of x(e))_.call(e,r)&&d(s,r,e[r]);return s},m=(s,e)=>y(s,w(e));var o=(s,e,r)=>(d(s,typeof e!="symbol"?e+"":e,r),r);import{j as t,r as p,a as u,b as a,I as k,L as g,u as P,T as j,B as L,R,c as f,d as C,e as I}from"./vendor.358a8729.js";const O=function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))i(l);new MutationObserver(l=>{for(const n of l)if(n.type==="childList")for(const c of n.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&i(c)}).observe(document,{childList:!0,subtree:!0});function r(l){const n={};return l.integrity&&(n.integrity=l.integrity),l.referrerpolicy&&(n.referrerPolicy=l.referrerpolicy),l.crossorigin==="use-credentials"?n.credentials="include":l.crossorigin==="anonymous"?n.credentials="omit":n.credentials="same-origin",n}function i(l){if(l.ep)return;l.ep=!0;const n=r(l);fetch(l.href,n)}};O();const D="/api",b=`${D}`,M=`${b}/products/`,$=s=>`${b}/products/${s}/`,v=()=>t("div",{className:"flex items-center justify-center",children:t("div",{className:"spinner-border animate-spin inline-block w-8 h-8 border-4 rounded-full",role:"status",children:t("span",{className:"visually-hidden"})})});class A extends p.exports.Component{constructor(e){super(e);o(this,"_isMounted",!1);o(this,"fetchProducts",()=>{u.get(this.state.next_url).then(e=>{let r=!1;e.data.next&&(r=!0),this.setState({next_url:e.data.next,data:this.state.data.concat(e.data.results),loading:!1,more_exist:r},()=>{this.handleScrollPosition()})}).catch(e=>{this.setState({error:e,loading:!1})})});o(this,"handleScrollPosition",()=>{const e=sessionStorage.getItem("scrollPosition");e&&(window.scrollTo(0,+e),sessionStorage.removeItem("scrollPosition"))});o(this,"handleClick",()=>{sessionStorage.setItem("scrollPosition",window.pageYOffset)});this.state={loading:!1,error:null,data:[],next_url:M,count:null,more_exist:!1}}componentDidMount(){this._isMounted=!0,u.get(this.state.next_url).then(e=>{let r=!1;e.data.next&&(r=!0),this.setState({next_url:e.data.next,data:e.data.results,loading:!1,count:e.data.count,more_exist:r},()=>{this.handleScrollPosition()})}).catch(e=>{this.setState({error:e,loading:!1})})}componentWillUnmount(){this._isMounted=!1}render(){const{data:e,error:r,more_exist:i}=this.state;return t("div",{className:"bg-white",children:a("div",{className:"max-w-2xl mx-auto py-16 px-4 sm:py-24 sm:px-6 lg:max-w-7xl lg:px-8",children:[t("h2",{className:"text-2xl font-extrabold tracking-tight text-gray-900",children:"Products List"}),r&&t("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded relative",role:"alert",children:t("span",{className:"block sm:inline",children:JSON.stringify(r)})}),t(k,{dataLength:e.length,next:this.fetchProducts,hasMore:i,loader:t(v,{}),style:{height:"100%",overflow:"inherit"},pullDownToRefreshContent:t("div",{children:"\u2193 Pull down to refresh"}),releaseToRefreshContent:t("div",{children:"\u2191 Release to refresh"}),children:t("div",{className:"mt-6 grid grid-cols-2 gap-y-10 gap-x-6 sm:grid-cols-3 lg:grid-cols-4 xl:gap-x-8",children:e.map(l=>a("div",{className:"group relative",children:[l.image_url?t("div",{className:"w-full min-h-80 bg-gray-200 aspect-w-1 aspect-h-1 rounded-md overflow-hidden group-hover:opacity-75 lg:h-80 lg:aspect-none",children:t("img",{src:l.image_url,alt:l.name,className:"w-full h-full object-center object-cover lg:w-full lg:h-full"})}):t("div",{className:"w-full min-h-80 bg-gray-200 aspect-w-1 aspect-h-1 rounded-md overflow-hidden group-hover:opacity-75 lg:h-80 lg:aspect-none",children:t("img",{src:l.image,alt:l.name,className:"w-full h-full object-center object-cover lg:w-full lg:h-full"})}),a("div",{className:"mt-4 flex justify-between",children:[t("div",{children:t("h3",{className:"text-sm text-gray-700",children:a(g,{to:`/products/${l.id}`,onClick:this.handleClick,children:[t("span",{"aria-hidden":"true",className:"absolute inset-0"}),l.name," ",l.available?"":t("span",{className:"inline-flex items-center justify-center px-2 py-1 mr-2 text-xs font-bold leading-none text-red-100 bg-red-600 rounded-full",children:"Out of stock"})]})})}),a("p",{className:"text-sm font-medium text-gray-900",children:[l.price,"\u20AC"]})]})]},l.id))})})]})})}}class B extends p.exports.Component{constructor(){super(...arguments);o(this,"state",{loading:!1,error:null,data:[]});o(this,"handleFetchItem",()=>{const{productID:e}=this.props.params;this.setState({loading:!0}),u.get($(e)).then(r=>{this.setState({data:r.data,loading:!1})}).catch(r=>{this.setState({error:r,loading:!1})})})}componentDidMount(){this.handleFetchItem()}render(){const{data:e,loading:r,error:i}=this.state;return t("div",{className:"bg-white",children:a("div",{className:"pt-6",children:[t("nav",{"aria-label":"Breadcrumb",children:t("ol",{className:"max-w-2xl mx-auto px-4 flex items-center space-x-2 sm:px-6 lg:max-w-7xl lg:px-8",children:t("li",{children:t("div",{className:"flex items-center",children:t(g,{to:"/",className:"mr-2 text-sm font-medium text-gray-900",children:"\xAB Back to products"})})})})}),i&&t("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded relative",role:"alert",children:t("span",{className:"block sm:inline",children:JSON.stringify(i)})}),r&&t(v,{}),t("div",{className:"mt-6 max-w-2xl mx-auto px-6 lg:max-w-7xl lg:px-8 lg:grid lg:grid-cols-3 lg:gap-x-8",children:t("div",{className:"aspect-w-3 aspect-h-4 rounded-lg overflow-hidden lg:block",children:t("img",{src:e==null?void 0:e.image_url,alt:e.name,className:"w-full h-full object-center object-cover"})})}),a("div",{className:"max-w-2xl mx-auto pt-10 pb-16 px-4 sm:px-6 lg:max-w-7xl lg:pt-16 lg:pb-24 lg:px-8 lg:grid lg:grid-cols-3 lg:grid-rows-[auto,auto,1fr] lg:gap-x-8",children:[t("div",{className:"lg:col-span-2 lg:border-r lg:border-gray-200 lg:pr-8",children:t("h1",{className:"text-2xl font-extrabold tracking-tight text-gray-900 sm:text-3xl",children:e==null?void 0:e.name})}),a("div",{className:"mt-4 lg:mt-0 lg:row-span-3",children:[t("h2",{className:"sr-only",children:"Product information"}),a("p",{className:"text-3xl text-gray-900",children:[e==null?void 0:e.price,"\u20AC"]}),t("a",{type:"button",target:"_blank",rel:"noreferrer",className:"mt-10 w-full bg-pink-600 border border-transparent rounded-md py-3 px-8 flex items-center justify-center text-base font-medium text-white hover:bg-pink-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-pink-500",href:e==null?void 0:e.external_link,children:"See the product"})]}),t("div",{className:"py-10 lg:pt-6 lg:pb-16 lg:col-start-1 lg:col-span-2 lg:border-r lg:border-gray-200 lg:pr-8",children:a("div",{children:[t("h3",{className:"sr-only",children:"Description"}),a("div",{className:"space-y-6",children:[t("p",{className:"text-base text-gray-900",children:e==null?void 0:e.description}),!(e!=null&&e.available)&&t("p",{className:"text-base text-gray-900",children:"Out Of Stock"})]})]})})]})]})})}}var T=s=>t(B,m(h({},s),{params:P()}));const U=s=>s.children;class F extends p.exports.Component{render(){return a("div",{children:[t(j,{className:"relative bg-white",children:t("div",{className:"max-w-7xl mx-auto px-4 sm:px-6",children:t("div",{className:"flex justify-between items-center border-b-2 border-gray-100 py-6 md:justify-start md:space-x-10",children:t("div",{className:"flex justify-start lg:w-0 lg:flex-1",children:a(g,{to:"/",children:[t("span",{className:"sr-only",children:"Korean fashion"}),t("img",{className:"h-8 w-auto sm:h-10",src:"/static/icon-48x48.png",alt:""})]})})})})}),this.props.children]})}}function E(s){return t(L,{children:t("div",{className:"app",children:t(U,{children:t(F,m(h({},s),{children:a(R,{children:[t(f,{exact:!0,path:"/",element:t(A,{})}),t(f,{path:"/products/:productID",element:t(T,{})})]})}))})})})}C.render(t(I.StrictMode,{children:t(E,{})}),document.getElementById("root"));
